-------------------------------------------------------文件名		：	system.lua--创建者		：	tongxuehu@kingsoft.net--创建时间		：	2007-06-05--功能描述		：	系统设定界面------------------------------------------------------local uiSystem	= Ui(Ui.UI_SYSTEM);local uiDaily	= Ui(Ui.UI_DAILY);local tbHealthy = Ui.tbLogic.tbHealthy or {};Ui.tbLogic.tbHealthy = tbHealthy;local uiGutTalk = Ui(Ui.UI_GUTTALK)local IMAGE_PORTRAIT		= "ImgPortrait";local TEXT_DIALOG		= "TxtDialog";local DEFAULT_PORTRAIT		= "";-- 系统设置优化local PAGESET_MAIN	= "PageSetMain";local PAGE_SHOW		= "PageShow";--uiSystem.BTN_PLUGINNAME_NUM	= 60;-- 屏蔽经验显示--local SysMsg_Bak	= SysMsg;--function SysMsg(szMsg)	--if (string.find(szMsg, "")) or (string.find(szMsg, ""))	--or (string.find(szMsg, "")) or (string.find(szMsg, "")) then		--return;	--elseif string.find(szMsg, "") then		--SysMsg_Bak(szMsg);		--me.Msg("")		--if UiManager:WindowVisible(Ui.UI_REPOSITORY) == 1 then			--Ui(Ui.UI_REPOSITORY).OnButtonClick(Ui(Ui.UI_REPOSITORY),"BtnRightPage")		--end	--elseif string.find(szMsg, "") then		--me.Msg("")	--elseif string.find(szMsg, "") then		--me.Msg("")	--else		--SysMsg_Bak(szMsg);	--end--end-- 写入日志文件function Dbg:WriteLogEx(nLevel, szMode, ...)end-- 每小时提醒tbHealthy.TIME_NOTIFY	= 1800 * Env.GAME_FPS;function tbHealthy:Init()	if (self.nTimerRegId) then		return;	end	self.nTimerRegId = 0;endfunction tbHealthy:OnTimer()	local n = MathRandom(0,9);	if n == 0 then		Ui(Ui.UI_TASKTIPS):Begin("<color=255,0,0><color>");	elseif n == 1 then		Ui(Ui.UI_TASKTIPS):Begin("<color=0,255,0><color>");	elseif n == 2 then		Ui(Ui.UI_TASKTIPS):Begin("<color=0,0,255><color>");	elseif n == 3 then		Ui(Ui.UI_TASKTIPS):Begin("<color=0,255,255><color>");	elseif n == 4 then		Ui(Ui.UI_TASKTIPS):Begin("<color=255,255,0><color>");	elseif n == 5 then		Ui(Ui.UI_TASKTIPS):Begin("<color=255,0,255><color>");	elseif n == 6 then		Ui(Ui.UI_TASKTIPS):Begin("<color=0,255,255><color>");	elseif n == 7 then		Ui(Ui.UI_TASKTIPS):Begin("<color=0,255,255><color>");	elseif n == 8 then		Ui(Ui.UI_TASKTIPS):Begin(me.szName..",<bclr=red><color=yellow><pic=114><color>");	elseif n == 9 then		Ui(Ui.UI_TASKTIPS):Begin("<color=0,255,255><color>");	endendfunction tbHealthy:OnEnterGame()	assert(self.nTimerRegId == 0);	self.nTimerRegId = Timer:Register(self.TIME_NOTIFY, self.OnTimer, self);endfunction tbHealthy:OnLeaveGame()	if (self.nTimerRegId ~= 0) then		Timer:Close(self.nTimerRegId);		self.nTimerRegId	= 0;	endendif UiVersion == Ui.Version002 then	Ui:AddExWndConfig("UI_SIDEBAR", {"a",771,287})	Ui:AddExWndConfig("UI_SIDEBAR", {"b",997,430})	Ui:AddExWndConfig("UI_SIDEBAR", {"c",1223,439})	Ui:AddExWndConfig("UI_SIDEBAR", {"d",1216,363})	Ui:LoadExWndConfig("UI_SIDEBAR")	Ui:AddExWndConfig("UI_SKILLBAR", {"a",436,533})	Ui:AddExWndConfig("UI_SKILLBAR", {"b",523,677})	Ui:AddExWndConfig("UI_SKILLBAR", {"c",891,707})	Ui:AddExWndConfig("UI_SKILLBAR", {"d",891,631})	Ui:LoadExWndConfig("UI_SKILLBAR")	Ui:AddExWndConfig("UI_POPBAR", {"b",678,689})	Ui:LoadExWndConfig("UI_POPBAR")	Ui:AddExWndConfig("UI_PLAYERSTATE", {"a",0,0})	Ui:AddExWndConfig("UI_PLAYERSTATE", {"b",0,0})	Ui:LoadExWndConfig("UI_PLAYERSTATE")	Ui:AddExWndConfig("UI_TASKTRACK", {"a",560,242})	Ui:LoadExWndConfig("UI_TASKTRACK")	Ui:AddExWndConfig("UI_SIDEBAR_TIPS", {"a",667,290})	Ui:AddExWndConfig("UI_SIDEBAR_TIPS", {"b",889,412})	Ui:AddExWndConfig("UI_SIDEBAR_TIPS", {"c",1143,461})	Ui:AddExWndConfig("UI_SIDEBAR_TIPS", {"d",1139,385})	Ui:LoadExWndConfig("UI_SIDEBAR_TIPS")	Ui:AddExWndConfig("UI_SELECTNPC", {"a",155,50})	Ui:AddExWndConfig("UI_SELECTNPC", {"b",180,50})	Ui:LoadExWndConfig("UI_SELECTNPC")	Ui:AddExWndConfig("UI_FIGHTMODE", {"a",365,408})	Ui:AddExWndConfig("UI_FIGHTMODE", {"b",679,568})	Ui:LoadExWndConfig("UI_FIGHTMODE")	Ui:AddExWndConfig("UI_SIDESYSBAR", {"a",620,563})	Ui:AddExWndConfig("UI_SIDESYSBAR", {"b",846,707})	Ui:AddExWndConfig("UI_SIDESYSBAR", {"c",1073,714})	Ui:AddExWndConfig("UI_SIDESYSBAR", {"d",1066,638})	Ui:LoadExWndConfig("UI_SIDESYSBAR")	Ui:AddExWndConfig("UI_PKMODEL", {"b",680,666})	Ui:LoadExWndConfig("UI_PKMODEL")	Ui:AddExWndConfig("UI_SERVERSPEED", {"a",696,572})	Ui:AddExWndConfig("UI_SERVERSPEED", {"b",923,715})	Ui:AddExWndConfig("UI_SERVERSPEED", {"c",1155,725})	Ui:AddExWndConfig("UI_SERVERSPEED", {"d",1146,649})	Ui:LoadExWndConfig("UI_SERVERSPEED")		Ui:AddExWndConfig("UI_BUFFBAR", {"a",320,0})	Ui:AddExWndConfig("UI_BUFFBAR", {"b",340,1})	Ui:AddExWndConfig("UI_BUFFBAR", {"c",439,55})	Ui:AddExWndConfig("UI_BUFFBAR", {"d",439,55})	Ui:LoadExWndConfig("UI_BUFFBAR")	Ui:AddExWndConfig("UI_TEAMPORTRAIT", {"a",5,65})	Ui:AddExWndConfig("UI_TEAMPORTRAIT", {"b",5,65})	Ui:LoadExWndConfig("UI_TEAMPORTRAIT")	end